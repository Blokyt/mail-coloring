<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìß Mail Coloring - Formatage Outlook</title>
    <meta name="description"
        content="Interface de mise en forme de texte riche pour emails Outlook avec effets sp√©ciaux">

    <!-- Google Fonts for fantasy/elvish fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=MedievalSharp&family=Tangerine:wght@400;700&family=Uncial+Antiqua&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1>üìß Mail Coloring</h1>
        </header>

        <!-- Main Toolbar -->
        <section class="toolbar-section">
            <div class="toolbar glass-panel">
                <!-- Text Color Palette -->
                <div class="toolbar-group color-palette-group">
                    <span class="toolbar-label">
                        <span class="icon">üé®</span>
                        <span>Couleur texte</span>
                    </span>
                    <div class="color-palette" id="textColorPalette">
                        <button class="color-swatch" data-color="#ff0000" style="background:#ff0000"></button>
                        <button class="color-swatch" data-color="#ffba6b" style="background:#ffba6b"></button>
                        <button class="color-swatch" data-color="#fcff3d" style="background:#fcff3d"></button>
                        <button class="color-swatch" data-color="#6ecb6b" style="background:#6ecb6b"></button>
                        <button class="color-swatch" data-color="#4df9ff" style="background:#4df9ff"></button>
                        <button class="color-swatch" data-color="#3d329b" style="background:#3d329b"></button>
                        <button class="color-swatch" data-color="#ac2dac" style="background:#ac2dac"></button>
                        <button class="color-swatch" data-color="#d12e7a" style="background:#d12e7a"></button>
                    </div>
                    <input type="color" id="textColorCustom" value="#ff6b6b" class="color-picker-small"
                        title="Couleur personnalis√©e">
                    <button id="clearTextColor" class="btn-small" title="Retirer la couleur">‚úï</button>
                </div>

                <!-- Background Color Palette -->
                <div class="toolbar-group color-palette-group">
                    <span class="toolbar-label">
                        <span class="icon">üñåÔ∏è</span>
                        <span>Fond</span>
                    </span>
                    <div class="color-palette" id="bgColorPalette">
                        <button class="color-swatch" data-color="#ff0000" style="background:#ff0000"></button>
                        <button class="color-swatch" data-color="#ffba6b" style="background:#ffba6b"></button>
                        <button class="color-swatch" data-color="#fcff3d" style="background:#fcff3d"></button>
                        <button class="color-swatch" data-color="#6ecb6b" style="background:#6ecb6b"></button>
                        <button class="color-swatch" data-color="#4df9ff" style="background:#4df9ff"></button>
                        <button class="color-swatch" data-color="#3d329b" style="background:#3d329b"></button>
                        <button class="color-swatch" data-color="#ac2dac" style="background:#ac2dac"></button>
                        <button class="color-swatch" data-color="#d12e7a" style="background:#d12e7a"></button>
                    </div>
                    <input type="color" id="bgColorCustom" value="#ffd93d" class="color-picker-small"
                        title="Couleur personnalis√©e">
                    <button id="clearBgColor" class="btn-small" title="Retirer le fond">‚úï</button>
                </div>

                <!-- Font Size -->
                <div class="toolbar-group">
                    <label class="toolbar-label">
                        <span class="icon">üìè</span>
                        <span>Taille</span>
                        <input type="range" id="fontSize" min="8" max="72" value="16" class="slider">
                        <span id="fontSizeValue" class="value-display">16px</span>
                    </label>
                </div>

                <!-- Font Family -->
                <div class="toolbar-group">
                    <label class="toolbar-label">
                        <span class="icon">üìù</span>
                        <span>Police</span>
                        <select id="fontFamily" class="font-select">
                            <optgroup label="üìö Classiques">
                                <option value="Arial, sans-serif">Arial</option>
                                <option value="Times New Roman, serif">Times New Roman</option>
                                <option value="Georgia, serif">Georgia</option>
                                <option value="Verdana, sans-serif">Verdana</option>
                                <option value="Courier New, monospace">Courier New</option>
                            </optgroup>
                            <optgroup label="üíº Modernes">
                                <option value="Segoe UI, sans-serif">Segoe UI</option>
                                <option value="Calibri, sans-serif">Calibri</option>
                                <option value="Trebuchet MS, sans-serif">Trebuchet MS</option>
                            </optgroup>
                            <optgroup label="üé≠ Fantaisie">
                                <option value="Comic Sans MS, cursive">Comic Sans MS</option>
                                <option value="Papyrus, fantasy">Papyrus</option>
                                <option value="Impact, sans-serif">Impact</option>
                            </optgroup>
                            <optgroup label="üßù Elfique & M√©di√©val">
                                <option value="Tangerine, cursive">Tangerine</option>
                                <option value="Cinzel Decorative, serif">Cinzel Decorative</option>
                                <option value="MedievalSharp, cursive">MedievalSharp</option>
                                <option value="Uncial Antiqua, cursive">Uncial Antiqua</option>
                            </optgroup>
                        </select>
                    </label>
                </div>

                <!-- Text Formatting Buttons -->
                <div class="toolbar-group format-buttons">
                    <button id="boldBtn" class="format-btn" title="Gras (Ctrl+B)"><b>B</b></button>
                    <button id="italicBtn" class="format-btn" title="Italique (Ctrl+I)"><i>I</i></button>
                    <button id="underlineBtn" class="format-btn" title="Soulign√© (Ctrl+U)"><u>U</u></button>
                    <button id="strikeBtn" class="format-btn" title="Barr√©"><s>S</s></button>
                    <button id="clearFormatBtn" class="format-btn clear-btn" title="Effacer le formatage">üßπ</button>
                </div>
            </div>
        </section>

        <!-- Effects Panel -->
        <section class="effects-section">
            <div class="effects-panel glass-panel">
                <!-- Effects Row -->
                <div class="effects-row">
                    <!-- Color Effects -->
                    <div class="effects-category effects-category-color">
                        <h3 class="category-title">
                            <span class="icon">üé®</span> Effets Couleur
                        </h3>
                        <div class="effects-buttons" data-category="color">
                            <!-- Buttons will be generated by app.js -->
                        </div>
                    </div>

                    <!-- Size Effects -->
                    <div class="effects-category effects-category-size">
                        <h3 class="category-title">
                            <span class="icon">üìê</span> Effets Taille
                        </h3>
                        <div class="effects-buttons" data-category="size">
                            <!-- Buttons will be generated by app.js -->
                        </div>
                    </div>

                    <!-- Intensity Control -->
                    <div class="effects-category effects-category-intensity">
                        <h3 class="category-title">
                            <span class="icon">‚ö°</span> Intensit√©
                        </h3>
                        <div class="intensity-control">
                            <input type="range" id="effectIntensity" min="1" max="10" value="5"
                                class="slider intensity-slider">
                            <span id="intensityValue" class="value-display">5/10</span>
                        </div>
                    </div>
                </div>

                <!-- Actions Row -->
                <div class="actions-row">
                    <button id="randomBtn" class="action-btn">
                        <span class="icon">üé≤</span>
                        <span>Random</span>
                    </button>
                    <button id="aiColorBtn" class="action-btn ai-btn" title="Coloration automatique par IA">
                        <span class="icon">ü§ñ</span>
                        <span>IA</span>
                    </button>
                    <button id="emojiBtn" class="action-btn ai-btn" title="Ajouter un emoji pertinent">
                        <span class="icon">ü•ê</span>
                        <span>Emoji</span>
                    </button>
                    <button id="copyBtn" class="action-btn copy-btn">
                        <span class="icon">üìã</span>
                        <span>Copier</span>
                    </button>
                    <button id="clearBtn" class="action-btn clear-action-btn" title="Tout effacer">
                        <span class="icon">üóëÔ∏è</span>
                        <span>Effacer</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Editor Area -->
        <section class="editor-section">
            <div class="editor-container glass-panel">
                <div id="editor" class="editor" contenteditable="true" spellcheck="true"
                    data-placeholder="Tapez votre texte ici et s√©lectionnez des mots pour appliquer des effets...">
                </div>
            </div>
        </section>

        <!-- Toast Notification -->
        <div id="toast" class="toast hidden">
            <span class="toast-message"></span>
        </div>

        <!-- AI Configuration Modal -->
        <div id="aiModal" class="modal hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content glass-panel">
                <div class="modal-header">
                    <h2>ü§ñ Coloration IA</h2>
                    <button id="closeAiModal" class="close-btn">‚úï</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="apiKeyInput">
                            <span class="icon">üîë</span> Cl√© API Google AI
                        </label>
                        <div class="input-with-toggle">
                            <input type="password" id="apiKeyInput" placeholder="Entrez votre cl√© API...">
                            <button id="toggleApiKey" class="toggle-btn" type="button">üëÅÔ∏è</button>
                        </div>
                        <small class="hint">Obtenez une cl√© sur <a href="https://aistudio.google.com/apikey"
                                target="_blank">AI Studio</a></small>
                    </div>
                    <div class="form-group">
                        <label for="densitySlider">
                            <span class="icon">üìä</span> Densit√© de coloration
                        </label>
                        <div class="slider-row">
                            <input type="range" id="densitySlider" min="10" max="80" value="30" class="slider">
                            <span id="densityValue" class="value-display">30%</span>
                        </div>
                        <small class="hint">Pourcentage de mots √† colorier</small>
                    </div>
                    <div class="form-group">
                        <label for="emojiDensitySlider">
                            <span class="icon">ü•ê</span> Densit√© d'emojis
                        </label>
                        <div class="slider-row">
                            <input type="range" id="emojiDensitySlider" min="0" max="50" value="20" class="slider">
                            <span id="emojiDensityValue" class="value-display">20%</span>
                        </div>
                        <small class="hint">Pourcentage de mots avec emoji (0 = d√©sactiv√©)</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="launchAiBtn" class="action-btn primary-btn">
                        <span class="icon">‚ú®</span>
                        <span>Lancer l'analyse</span>
                    </button>
                    <div id="aiStatus" class="status-text hidden"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="effects.js"></script>
    <script src="ai_service.js"></script>
    <script src="app.js"></script>
</body>

</html>